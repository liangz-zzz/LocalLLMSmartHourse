# General
TZ=Asia/Shanghai
LOCAL_UID=1000
LOCAL_GID=1000

# Zigbee2MQTT
ZIGBEE_SERIAL_PATH=/dev/ttyUSB0
Z2M_FRONTEND_PORT=8080
MQTT_SERVER=mqtt://mqtt:1883

# Home Assistant
HA_HTTP_PORT=8123
HA_ELEVATED_TOKEN= # 填写长期令牌
DEVICE_ADAPTER_MODE=mqtt # mqtt | ha | offline（ha 模式从 Home Assistant 拉取实体并同步状态）
HA_INCLUDE_DOMAINS=switch,light,cover,climate
HA_EXCLUDE_DOMAINS=
HA_WS_ENABLED=true
HA_POLL_INTERVAL_MS=

# Database
POSTGRES_USER=smarthome
POSTGRES_PASSWORD=smarthome
POSTGRES_DB=smarthome
POSTGRES_PORT=15432
DATABASE_URL=postgres://smarthome:smarthome@db:5432/smarthome

# Redis
REDIS_PORT=16379

# API
API_HTTP_PORT=4000
API_WS_PORT=4001

# Config & Assets (for docker-compose)
CONFIG_DIR=/config
FLOORPLANS_PATH=
ASSETS_DIR=
ASSET_MAX_IMAGE_MB=20
ASSET_MAX_MODEL_MB=200

# LLM Bridge
LLM_API_BASE=http://llm-bridge:5000/v1
LLM_API_KEY=dummy-key
UPSTREAM_API_BASE= # 例如 https://api.deepseek.com （OpenAI 兼容）
UPSTREAM_API_KEY= # 可选：如不填则默认复用 LLM_API_KEY
INTENT_STRATEGY=hybrid # rules | upstream | hybrid（默认 hybrid；无 UPSTREAM_API_BASE 时自动回退 rules）
INTENT_MODEL=deepseek-chat

# Smart House MCP Server
MCP_SERVER_PORT=7000
MCP_DRY_RUN_DEFAULT=true

# Smart House Agent
AGENT_PORT=6100
AGENT_MODEL=deepseek-chat
AGENT_EXECUTION_MODE=auto # auto | always_confirm | always_execute
SESSION_TTL_MS=3600000
SESSION_MAX_MESSAGES=30
